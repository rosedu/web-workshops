<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title></title>
  <link rel="stylesheet" href="static/style.css">
</head>

<body>

<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>

<p>
  Workshop-uri ținute de oameni tineri și deschiși care lucrează în
  domeniul web.
</p>

<form action="/signup" method="post" name="signup">

<ul class="form-layout">
  <li>
    <table>

      <thead>
	<td></td>
        {% for col in cols %}
	<th>{{ col }}</th>
        {% endfor %}
      </thead>

      {% for line in lines %}
      <tr>
        <th>{{ line }}</th>
	{% for col in cols %}
        <td><input type="checkbox" name="form-{{ col }}"
                   value="{{ line|lower }}"></td>
	{% endfor %}
      </tr>
      {% endfor %}

    </table>
  </li>

  <li>
    <label for="form-sunt">Sunt:</label>
    <select id="form-sunt" name="sunt">
      {% for profile in profiles.keys() %}
      <option value="{{ profile|lower }}">{{ profile }}</option>
      {% endfor %}
    </select>
  </li>

  {% for (a, b) in profiles.items() %}
  <li id="form-{{ a|lower }}-extra" style="display: none;">
    {% for i in range(2) %}
    <label for="form-{{ b[i]|lower }}">{{ b[i] }}</label>
    <input id="form-{{ b[i]|lower }}" name="{{ b[i]|lower }}">
    {% endfor %}
  </li>
  {% endfor %}

  <li>
    <label for="form-email">Adresa de email:</label>
    <span class="required-field">*</span>
    <input id="form-email" name="email">
  </li>

  <li>
    <input type="submit" value="Vreau!">
  </li>

  <li>
    Contactați-ne la <a
    href="mailto:webdev@rosedu.org">webdev@rosedu.org</a>.
  </li>
</form>

<script src="static/functions.js"></script>

<script>
$('#form-sunt').change(function(evt) {
  expandSelected(evt, '#form-sunt')
});

$('form[name=signup]').submit(function(evt) {
    var email_field = $('#form-email');
    var match = email_field.val().match(/^\S+@\S+\.\S+$/);
    if (match == null) {
	evt.preventDefault();
	email_field.addClass('form-error');
    }
});
</script>

</body>
</html>
